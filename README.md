# Vessel-Distance-Analysis
## Introduction
Contains all images, MATLAB scripts, Python programs, and Definiens solutions used in "Quantitative Visualization of Hypoxia and Proliferation Gradients Within Histological Tissue Sections.
All histology images can be downloaded here: https://www.dropbox.com/sh/40vlug8zg0qbraq/AAB7VIkOOszc8zqFtp_R9dMSa?dl=0. Note, all RGB color images must first be separated into their individual channels for use in image_alignment_FRONTIERS.m. This can be done in a multitude of image processing platforms such as ImageJ https://imagej.nih.gov/ij/

TODO: subfolders for MATLAB vs definiens code
Description of background, files, usage. See https://github.com/STTARR/qupath-extension-gdal for reference
## Prerequisites
- [MATLAB R2018a](https://www.mathworks.com/downloads/) or later versions
- [Definiens Tissue Studio and Developer](https://www.definiens.com/tissue-phenomics)
## Usage
Once all images in `Image download link.txt` have been converted to single-channel, 8 or 16-bit grayscale .tif files, run the MATLAB script `image_alignment_FRONTIERS.m` to perform image registration. During its execution, it will call `RegisterImages_FRONTIERS.m`, and therefore it is important that both are contained within the same folder. Once image registration has been completed, load the images into Definiens Tissue Studio's IF portal. Run the Definiens Solution `Cell_Segmentation_Solution_FRONTIERS.dax` for cellular classification, 'Marker area analysis_FRONTIERS.dax' for marker aread detection, or `Vessel_Detection_FRONTIERS.dax` for vessel detection. If vessel detection was performed, load the processed workspace in Definiens Developer, and run the `Vessel Distance Analysis Ruleset_FRONTIERS.dcp` Ruleset on the workspace. The output file should be similar to `per-cell statistics.csv`, with each row containing the intensity and morphological information of a cell in the image. Alternatively, you can run `concentric_distance_bin_FRONTIERS.dcp` to perform ROI-based distance analysis Next, run the MATLAB script `Distance_bins_with_GUI.m` on the per-cell statistics file generated by `Vessel Distance Analysis Ruleset_FRONTIERS.dcp`. Since `Distance_bins_with_GUI.m` calls on `dscatter.m` and `vessel_distance_GUI.mlapp`, please ensure all three are in the same parent folder.
